<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissors Game</title>
</head>
<body>
    <button id="rock">Rock</button>
    <button id="scissors">Scissors</button>
    <button id="paper">Paper</button>
    <div id="container"></div>

    <script>
        function getComputerChoice() {
            let num = Math.floor(Math.random() * 3);
            switch (num) {
                case 0: 
                    return "rock";
                case 1:
                    return "paper";
                case 2:
                    return "scissors";
            }
        }
        function play(playerSelection, computerSelection) {
            playerSelection = playerSelection.toLowerCase();

            if (playerSelection === "rock" && computerSelection === "scissors") {
                playerWin++
                return "You win, rock beats scissors";
                
            } else if (playerSelection === "scissors" && computerSelection === "paper") {
                playerWin++
                return "You win, scissors beats paper"
            } else if (playerSelection === "paper" && computerSelection === "rock") {
                playerWin++
                return "You win, paper beats rock";
            } else if (playerSelection === computerSelection) {
                return "It's a tie!";
            } else {
                computerWin++
                return `You lose, ${playerSelection} loses to ${computerSelection}`;
            }
        }

        function checkEnd() {
            if (playerWin === 5 || computerWin === 5) {
                let finalMessage = playerWin === 5 ? `You win ${playerWin}:${computerWin}` : `You lose ${playerWin}:${computerWin}`;
                content.textContent = finalMessage;
                playerWin = 0;
                computerWin = 0;
            }
        }


        let output = ""
        let playerWin = 0
        let computerWin = 0
        const rock = document.querySelector("#rock")
        rock.addEventListener('click', () => {
            output = play("rock", getComputerChoice())
            content.textContent = output
            checkEnd()
        })

        const paper = document.querySelector("#paper")
        paper.addEventListener('click', () => {
            output = play("paper", getComputerChoice())
            content.textContent = output
            checkEnd()
        })

        const scissors = document.querySelector("#scissors")
        scissors.addEventListener('click', () => {
            output = play("scissors", getComputerChoice())
            content.textContent = output
            checkEnd()
        })

        const container = document.querySelector("#container")
        const content = document.createElement("div")
        container.appendChild(content)


    </script>
</body>
</html>